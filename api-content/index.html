{"posts":[{"title":"新手入门","content":"1入门关键词抓取howeverkeypointschallengethedissolutionofpolysulfides文章标题：introduction、guidence、pitfall、beginner、step-by-step、everyone、limitation2审稿建立初步了解：看综述和重要文献：researchrabbit了解关键问题对比相关文章：scite.ai、reasarchgate、审稿意见认真看研究细节和参考文献常见表征的问题汇总和对比（自查表）XAS:Singleatomsornot?ThelimitationofEXAFS:AppliedPhysicsLetters:Vol116,No19X射线吸收光谱分析和解释中的陷阱：面向普通用户的实用指南-ScienceDirectCV：APracticalBeginner’sGuidetoCyclicVoltammetry|JournalofChemicalEducation","link":"https://qoclub.site/post/xin-shou-ru-men/"},{"title":"科研小工具汇总","content":"研究众所周知：Googlescholar、X-mol、谷歌图片、知网随问、WOS（用得不多）文献评价：scite.ai：过了免费试用期可以用临时邮箱注册账号。Researchgate文献总结：paper-digest.comLiteratureReview|PaperDigestScholarcy-ArticleSummarizerandFlashcardGenerator文献检索与可视化（可以玩完，用处不大）：researchrabbitConnectedPapers|FindandexploreacademicpapersCitepy写作投稿翻译：Google翻译语法检查：GrammalyPenelope.aiWritefullAffiliate—Writefull同义词句：Thesaurus.comParaphrasingTool|QuillBotAI期刊选择：全网期刊选择工具汇总，帮你节省60%的投稿时间！-知乎审稿意见：从NatureCom.、MDPI获取文献追踪Inoreader：可以自己用feedly创建Feed其他LitmapsGoogle学术搜索：关键词订阅、学者订阅文献鸟Stork，您忠实的科研助手，追踪新文献(storkapp.me)推荐bighuang624/AI-research-tools:AI方向好用的科研工具(github.com)","link":"https://qoclub.site/post/ke-yan-xiao-gong-ju-hui-zong/"},{"title":"同行评议爬取","content":"目前来说，MDPI或者Nature旗下的有较多的同行评议。所以这篇文章爬取了其同行评议，Nature旗下的下载为pdf，MDPI保存为csv格式。importrequests,csvfrombs4importBeautifulSoupimportrequests,time,hashlib,uuid,osfromsubprocessimportcallfrommathimportceil##########################自定义#####################################IDMDownPath='E:\\\\Coding\\\\Battery\\\\pdf'#IDM下载路径IDMPath=&quot;C:\\\\ProgramFiles(x86)\\\\InternetDownloadManager\\\\&quot;#IDMexe路径[idm](https://pan.iculture.cc/s/wQJFW)#有道翻译app_id='yourappid'#有道翻译应用idapp_key='yourappkey'#有道翻译应用密钥youdao_url='https://openapi.youdao.com/api'#有道api地址#检索关键词searchkeyNa='sulfurANDcatalys*ANDbatter*'#[NatureAdvancedSearch](https://www.nature.com/search/advanced)searchkeymdpi='(@(abstract)sulfur@(all)batteries@(abstract)catalyst)|(@(title)Li-S)'#[MDPI-PublisherofOpenAccessJournals](https://www.mdpi.com/search?)########################################################################可以用IDM下载，更快；也可以加上翻译。调用IDM下载文件defIDMdown(DownUrl,DownPath,FileName):os.chdir(IDMPath)IDM=&quot;IDMan.exe&quot;call([IDM,'/d',DownUrl,'/p',DownPath,'/f',FileName,'/a'])call([IDM,'/s'])有道翻译deftranslate(text):translate_text=textinput_text=&quot;&quot;if(len(translate_text)&lt;=20):#当文本长度小于等于20时，取文本input_text=translate_textelif(len(translate_text)&gt;20):#当文本长度大于20时，进行特殊处理input_text=translate_text[:10]+str(len(translate_text))+translate_text[-10:]time_curtime=int(time.time())#秒级时间戳获取uu_id=uuid.uuid4()#随机生成的uuid数，为了每次都生成一个不重复的数。sign=hashlib.sha256((app_id+input_text+str(uu_id)+str(time_curtime)+app_key).encode('utf-8')).hexdigest()#sign生成trdata={'q':translate_text,#翻译文本'from':&quot;en&quot;,#源语言'to':&quot;zh-CHS&quot;,#翻译语言'appKey':app_id,#应用id'salt':uu_id,#随机生产的uuid码'sign':sign,#签名'signType':&quot;v3&quot;,#签名类型，固定值'curtime':time_curtime,#秒级时间戳}r=requests.get(youdao_url,params=trdata).json()#获取返回的json()内容returnr[&quot;translation&quot;][0]#获取翻译内容下载Nature旗下的pdf文件defgetpdfNa(text,trans,idm):pref='https://www.nature.com'url='https://www.nature.com/search?'data={'q':None,'order':'relevance','page':1,'date_range':'last_5_years'}data['q']=texthtml=requests.get(url,params=data)soups=BeautifulSoup(html.content,'html.parser')#获取网页内容whilesoups.find('h1',class_=&quot;u-mb-8&quot;)==None:forsoupinsoups.find_all('a',class_='c-card__linku-link-inherit'):#查找所有的a标签，target='_blank'的urlnew=pref+soup.get('href')soups1=BeautifulSoup(requests.get(urlnew).content,'html.parser')#获取网页内容forsoupinsoups1.find_all('h3',class_=&quot;c-article-supplementary__titleu-h3&quot;):ifsoup.get_text()=='PeerReviewFile':gettitle=soups1.find('h1',class_='c-article-title').get_text()gettitle=gettitle.replace('/','-')iftrans=='cn':gettitle=translate(gettitle)dlurl=soup.find('a').get('href')ifidm=='idm':IDMdown(dlurl,DownPath,gettitle)else:r=requests.get(dlurl,stream=True)withopen(DownPath+'\\\\'+gettitle+'.pdf','wb')asf:f.write(r.content)print('下载完成')data['page']+=1html=requests.get(url,params=data)soups=BeautifulSoup(html.content,'html.parser')#获取网页内容下载MDPI旗下的PDF文件defgetpdfmdpi(text):li=[]#titlecn=''url='https://www.mdpi.com/search?'preurl='https://www.mdpi.com'data={'sort':'relevance',#orpubdate'view':'default',#orcompact'page_count':10,#or50,200'year_from':2017,'year_to':2022,'advanced':text,'page_no':1}html=requests.get(url,params=data)h1=BeautifulSoup(html.content,'html.parser').find('h1')page_max=ceil(int(h1.text[-6:-2])/10)#获取最大页数,ceil()向上取整print(page_max)foriinrange(1,page_max+1):data['page_no']=ihtml=requests.get(url,params=data)soups=BeautifulSoup(html.content,'html.parser')#第i页的所有文章标题forsoupinsoups.find_all('a',class_=&quot;title-link&quot;):rrurl=preurl+soup.get('href')+'/review_report'title=soup.get_text()#如果有review_reportifrequests.get(rrurl).status_code==200:li.append([title,rrurl])print(len(li))withopen(&quot;save_usename_team.csv&quot;,&quot;w&quot;,newline='',encoding='utf-8')ascsvfile:writer=csv.writer(csvfile)writer.writerow([&quot;title&quot;,'link'])writer.writerows(li)#写入多行用writerows主程序if__name__=='__main__':#getpdfNa(searchkeyNa,'cn','idm')getpdfmdpi(searchkeymdpi)","link":"https://qoclub.site/post/tong-xing-ping-yi-pa-qu/"},{"title":"XAFS数据处理","content":"搬运Larch用来做扩展边数据处理的代码。readdatafromanAthenaProjectFiledoXAFSbackgroundsubtractionwithautobk()doXAFSFouriertransformwithxfft()Formoredetails,seehttps://xraypy.github.io/xraylarch/xafs/1XAFSDataProcessing1.1导入数据We'llstartwithreadingandexploringtheAthenaProjectFile:fromlarch.ioimportread_athenaproject=read_athena('../xafsdata/fe_athena.prj')print(type(project._athena_groups))forname,groupinproject._athena_groups.items():#一个字典print(name,group)NOTEForadditionalfeaturesofworkingwithAthenaprojectfiles-&gt;IO_Athena_project.ipynbLet'sgetthatdatagroupforFe2O3andlookatwhatthatGroupobjectcontainsfe2o3=project.fe2o3_rt1_xmuforattrindir(fe2o3):#获得当前模块的属性列表print(attr,type(getattr(fe2o3,attr)))ThereareseveralcomponentstothisGroupofdata.Wenotethattherearearraysforenergyandmu.Thesearewhatrepresentμ(E)\\mu(E)μ(E).1.2原始数据查看We'llwanttoplotthisdataandtheotherdataarraysaswego.importmatplotlib.pyplotaspltplt.plot(fe2o3.energy,fe2o3.mu,label='mu')plt.xlabel('Energy')plt.ylabel('mu')plt.legend()1.3去除背景用audobk函数获得chi(k)Nowlet'sremovetheXAFSbackgroundandextracttheEXAFSχ(k)\\chi(k)χ(k).We'llusetheautobk()functionNotethatwepassintheGroupasthefirstargument.Theautobk()functionwilladdseveralattributestothisGroup--itwillbethecontainerforthisdataset.fromlarch.xafsimportautobkautobk(fe2o3,rbkg=0.85,kweight=2)#forattrindir(fe2o3):#获得当前模块的属性列表#print(attr,type(getattr(fe2o3,attr)))plt.plot(fe2o3.k,fe2o3.chi)plt.xlabel(r'$k\\,({\\rm\\AA})^{-1}$')1.4画出k2加权plt.plot(fe2o3.k,fe2o3.chi*fe2o3.k**2,label='$\\chi$')plt.xlabel(r'$k\\,({\\rm\\AA}){-1}$')plt.ylabel(r'$k^2\\chi,({\\rm\\AA})^{-2}$')plt.legend()fromlarch.wxlibimportplotlabelsasplabprint(dir(plab))plt.plot(fe2o3.k,fe2o3.chi*fe2o3.k**2)plt.xlabel(plab.k)plt.ylabel(plab.chikw.format(2))1.5audobk函数获得背景plt.plot(fe2o3.energy,fe2o3.mu,label='mu')#bkg在E0前的值是mu，E0后的值才是bkgplt.plot(fe2o3.energy,fe2o3.bkg,label='bkg')plt.xlabel(plab.energy)plt.ylabel(plab.mu)plt.legend()1.6chi(k)做傅里叶变换andnowwewilldotheFouriertransformfromχ(k)\\chi(k)χ(k)toχ(R)\\chi(R)χ(R),usingthexftf()(XAFSFourierTransformForward)function.We'lldotheFouriertransformonk2k^2k2weightedχ(k)\\chi(k)χ(k)withaKaiser-BesselWindow.fromlarch.xafsimportxftf#前向傅里叶变换#kmin和kmax是傅里叶变换的窗口范围，dk是窗口的步长xftf(fe2o3,kweight=2,kmin=2,kmax=13.0,dk=5,kwindow='Kaiser-Bessel')plt.plot(fe2o3.k,fe2o3.chi*fe2o3.k**2,label='chi(k)')plt.plot(fe2o3.k,fe2o3.kwin,label='window')plt.xlabel(plab.k)plt.ylabel(plab.chikw.format(2))plt.legend()plt.plot(fe2o3.r,fe2o3.chir_mag,label='chi(r),mag')plt.plot(fe2o3.r,fe2o3.chir_re,label='chi(r),real)')plt.xlabel(plab.r)plt.ylabel(plab.chir.format(3))plt.legend()2参考FundamentalsofXAFS|ReviewsinMineralogyandGeochemistry|GeoScienceWorld13.4.XAFS:Post-edgeBackgroundSubtraction—xraylarch0.9.61documentation","link":"https://qoclub.site/post/exafs/"},{"title":"爬虫获取通知更新并推送微信","content":"这篇文章介绍如何利用爬虫获取info上更新的办公通知，并推送到微信。效果如图：参考server酱：https://sct.ftqq.com/forwardwecom酱：https://github.com/easychen/wecomchan源代码importjson,requests,base64,time,requestsfrombs4importBeautifulSoup#初始化links=[]#链接存放在links列表中contents=[]#文本存放在contents列表中qyID=''#您的企业idappID=''#您的appidappsecret=''#您的appsecreturl='http://postinfo.tsinghua.edu.cn/f/bangongtongzhi/more'#爬取的网站#利用企业微信api发送通知defsend_to_wecom(text,wecom_cid,wecom_aid,wecom_secret,wecom_touid='@all'):get_token_url=f&quot;https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid={wecom_cid}&amp;corpsecret={wecom_secret}&quot;response=requests.get(get_token_url).content#获取网页内容access_token=json.loads(response).get('access_token')#获取access_tokenifaccess_tokenandlen(access_token)&gt;0:#如果获取到access_tokensend_msg_url=f'https://qyapi.weixin.qq.com/cgi-bin/message/send?access_token={access_token}'data={&quot;touser&quot;:wecom_touid,#企业id&quot;agentid&quot;:wecom_aid,#应用id&quot;msgtype&quot;:&quot;text&quot;,#格式为文本&quot;text&quot;:{&quot;content&quot;:text},&quot;duplicate_check_interval&quot;:600}response=requests.post(send_msg_url,data=json.dumps(data)).content#发送消息returnresponseelse:returnFalse#获取网页内容，并调用企业微信apidefget_content(url):print('helloworld')soups=BeautifulSoup(requests.get(url).content,'html.parser')#获取网页内容forsoupinsoups.find_all('a',target='_blank'):#查找所有的a标签，target='_blank'的link=soup.get('href').strip()#获取a标签中的链接，并去除空格content=soup.get_text()#获取a标签中的文本iflink[:5]=='/node':#如果是内部链接，则添加前缀link='http://postinfo.tsinghua.edu.cn'+linkiflinknotinlinks:#如果是新的链接，则添加到列表links.append(link)contents.append(content)iflen(links)==10:#每次启动程序只通知最新的print('请查看微信通知')send_to_wecom(f'{contents[0]}\\n{links[0]}',qyID,appID,appsecret)iflen(links)&gt;10:print('请查看微信通知')send_to_wecom(f'{content}\\n{link}',qyID,appID,appsecret)if__name__=='__main__':whileTrue:get_content(url)time.sleep(1800)#每半小时执行一次","link":"https://qoclub.site/post/craw/"},{"title":"在WSL上做分子动力学——LAMMPS配置指南","content":"1LAMMPS安装[1][2][3]1.1安装依赖库sudoaptinstallgitcmake3ccache#cmake3是一个编译器，ccache是个编译加速的包sudoaptinstallopenmpi-binlibfftw3-devlibjpeg-devlibpng-devffmpeggziplibblas-devliblapack-dev-y#openmpi是一个并行运算的库，libfftw3是做FFT的库，ffmpeg是做视频输出的库，libblas和liblapack是做线性代数运算的库1.2获取源代码gitclonehttps://github.com/lammps/lammps.git1.3建立build文件夹并在其中构建cdlammps&amp;&amp;mkdirbuild&amp;&amp;cdbuild1.4编译参数配置这一步实际上是修改CMakeCache.txt文件，可以直接在里边修改。具体官方说明3.4-3.6。cmake-DBUILD_SHARED_LIBS=yes-DLAMMPS_EXCEPTIONS=yes-DPKG_PYTHON=yes-DPKG_KSPACE=yes-DBUILD_OMP=yes../cmake/#-DCMAKE_INSTALL_PREFIX=&lt;某个路径&gt;表示指定安装目录如果后期要用某个势，需要参考官方库（这里不讲从文献获取）→AvailablePackages，然后重新修正构建参数来构建，如加上多体包：-DPKG_MANYBODY=yes1.5编译和安装#并行编译cmake-j9--build.#如果你的CPU有N个核心，就用-j(N+1)#安装sudocmake--install.1.6设置环境变量进入.bashrc，在最后添加上以下内容exportLAMMPS_HOME=/home/linqy/lammpsexportPATH=$LAMMPS_HOME/build:$PATHexportLD_LIBRARY_PATH=$LAMMPS_HOME/lib:$LD_LIBRARY_PATH#官方说明是exportLD_LIBRARY_PATH=$HOME/.local/lib:$LD_LIBRARY_PATHexportOMP_NUM_THREADS=4#如果并行运行，则用4个线程1.7测试进入bench目录，输入lmp-inin.lj2Python配置运行python脚本importlammpslmp=lammps.lammps()如果出现问题，可能要到python文件夹，运行sudopython3setup.pyinstall如果要并行运算，需要mpi4pypipinstall--usermpi4pyLinux系统源码编译安装LAMMPS↩︎BuildLAMMPSwithCMake—LAMMPSdocumentation↩︎在带有WSL的Windows10上使用LAMMPS—LAMMPS文档↩︎","link":"https://qoclub.site/post/lammps/"},{"title":"Linux学习","content":"Linux学习linux命令查询常见linux命令itsfoss博客Youtube大胡子LinuxforHackersHome|LinuxJourneylinux常见命令","link":"https://qoclub.site/post/linux/"},{"title":"ASE+GPAW结构弛豫代码示例","content":"1导入需要的库和cif文件fromaseimportAtomsimportasefromase.buildimportadd_adsorbatefromase.visualizeimportviewfromase.constraintsimportFixAtomsfromase.optimizeimportLBFGS,QuasiNewton,FIREfromase.ioimportwrite,readfromgpawimportGPAW,PWfromase.calculators.dftd3importDFTD3importnumpyasnpfromase.nebimportNEBimportmatplotlib.pyplotaspltfromase.optimize.scioptimportSciPyFminCGslab=read('Ni.cif')#fromthearticleview(slab)#Findtheinitialandfinalstatesforthereaction.Mg2S2=Atoms('Mg2S2',[[0,0,0],[3.7,0,0],[1.85,1.85,0],[1.85,-1.85,0]])#Mg2S2fromMaterialsProject#slab.set_pbc((1,1,1))#Setperiodicboundaryconditions.(1,1,0)meansperiodicinxandy,butnotinz.add_adsorbate(slab,Mg2S2,height=4.0,position=(2.383,5.455))#heightmeansthedistancebetweentheadsorbateandthesurface.positionmeansthex-ypositionoftheadsorbate,'fcc'meansthepositionofthe(0,0,0)withshifttofccpostion#slab.center(vacuum=10,axis=2)#seta20Avacuumalongthez-axisview(slab)2开始计算slab.calc=GPAW(xc='PBE',mode=PW(340))relax=QuasiNewton(slab)#StructureoptimizationusingtheQuasiNewtonmethod(BFGSLineSearch)relax.run()3查看计算结果并保存view(slab)write('NiRelaxed.cif',slab)write('NiRelaxed.traj',slab)","link":"https://qoclub.site/post/gpaw/"},{"title":"过渡态搜索算法CI-NEB代码示例","content":"1初始化fromaseimportAtomsfromase.buildimportadd_adsorbatefromase.visualizeimportviewfromase.constraintsimportFixAtomsfromase.optimizeimportQuasiNewtonfromase.ioimportwrite,readfromase.calculators.emtimportEMTfromgpawimportGPAW,PWfromase.calculators.dftd3importDFTD3#vanderWaalsimportnumpyasnpfromase.nebimportNEBimportmatplotlib.pyplotaspltfromase.optimize.scioptimportSciPyFminCG#conjugategradient#Findtheinitialandfinalstatesforthereaction.Mg2S2=Atoms('Mg2S2',[[0,0,0],[3.7,0,0],[1.85,1.85,0],[1.85,-1.85,0]])#Mg2S2fromMaterialsProject#Setupa(4x4)twolayerslabofCu:slab=read('BiN4.cif')#BiN4fromthearticle#slab.set_pbc((1,1,1))#Setperiodicboundaryconditions.(1,1,0)meansperiodicinxandy,butnotinz.add_adsorbate(slab,Mg2S2,height=4.0,position=(2.383,5.455))#heightmeansthedistancebetweentheadsorbateandthesurface.positionmeansthex-ypositionoftheadsorbate,'fcc'meansthepositionofthe(0,0,0)withshifttofccpostion#slab.center(vacuum=10,axis=2)#seta20Avacuumalongthez-axisview(slab)1.1优化初始结构#TheforcesoftheatomsarethedE/dxoftheatoms.#defaultecutofPWis340eVmask=[atom.symbol=='C'foratominslab]slab.set_constraint(FixAtoms(mask=mask))slab.calc=GPAW(xc='PBE',mode=PW(400))#defaultkptsisonlythegammapoint.#Relaxthestructurerelax=QuasiNewton(slab)#StructureoptimizationusingtheQuasiNewtonmethod(BFGSLineSearch)relax.run(fmax=0.05)#fmaxisthemaximumforce=0.05eV/Angview(slab)write('N2.traj',slab)1.2优化最终结构#Nowthefinalstate.#MovethesecondNatomtoaneighboringhollowsite:#slab[-1].position[0]meansthex-coordinateofthelastNatom#slab[-1].position[1]meansthey-coordinateofthelastNatom#slab.cell[0,0]meansthex-dimensionoftheslabslab[-1].position[0]=slab[-2].position[0]+0.25*slab.cell[0,0]#shiftNatomtotherightby0.25timesthex-dimensionoftheslabslab[-1].position[1]=slab[-2].position[1]#andrelax.relax.run()view(slab)write('2N.traj',slab)2初始化路径图像#Readthepreviousconfigurationsinitial=read('N2.traj')final=read('2N.traj')#Make9images(notetheuseofcopy)configs=[initial.copy()foriinrange(8)]+[final]#8ofinitialand1offinalimages#Asbefore,fixtheCuatomsconstraint=FixAtoms(mask=[atom.symbol!='N'foratomininitial])forconfiginconfigs:config.calc=EMT()#configthecalculatorofeveryimage,onlytheinternalimages(nottheendpoints)needhavecalculatorsattached.config.set_constraint(constraint)#settheconstraintofeveryimage3用NEB法进行优化求解#MaketheNEBobject,interpolatetoguesstheintermediatestepsband=NEB(configs)band.interpolate()#linearinterpolationrelax=QuasiNewton(band,trajectory='N2Cu.traj')#StructureoptimizationusingtheQuasiNewtonmethod(FIRE)#Dothecalculationrelax.run()#defaultfmax=0.054绘制路径图像e0=initial.get_potential_energy()E=[config.get_potential_energy()-e0forconfiginconfigs]plt.plot(E)","link":"https://qoclub.site/post/ci-neb/"},{"title":"RSS订阅指南","content":"1Inoreader订阅进入https://www.inoreader.com/注册账号（需要fanqiang），如果不能fan请尝试其他RSS订阅平台，直接跳到第4步。点击新增订阅源Addnew–Feed输入感兴趣的订阅源有些感兴趣的网站可能找不到，比如说某个课题组的官网，可以找我帮助建立。我创建了以下几个老师的课题组订阅链接，把链接复制到第3步中的输入框即可订阅。夏川-电子科大：https://feed43.com/3447567116042854.xml曾杰-中科大：https://feed43.com/5130331480728130.xml张亮-苏大：https://feed43.com/3544816118854827.xml也可以通过Chrome的RSSHub插件和油猴的RSS+脚本查找，如果找不到可以通过https://feed43.com/创建（需要略懂html语言）","link":"https://qoclub.site/post/RSS/"},{"title":"解离能计算工作流","content":"1思维导图[1][2]https://wiki.fysik.dtu.dk/gpaw/documentation/basic.html#manual-eigensolverhttps://wiki.fysik.dtu.dk/ase/ase/optimize.html#module-ase.optimize2初始Image设置2.1初始结构准备可以先进行分子动力学来进行预优化！2.1.1读取Slab可以在VESTA中设定晶格常数（空间群）和原子位置，导出为合适的格式即可。用slab=read('XXX.cif')`2.1.2吸附原子优化fromaseimportAtomsfromase.optimizeimportBFGSfromgpawimportGPAWMg2S2=Atoms('Mg2S2',[[0,0,0],[3.7,0,0],[1.85,1.85,0],[1.85,-1.85,0]])Mg2S2.center(vacuum=3.0)#x,y,z方向各加3A的真空层Mg2S2.calc=GPAW(mode='lcao',basis='dzp',txt='gpaw.txt')opt=BFGS(atoms,trajectory='Mg2S2.traj')opt.run(fmax=0.05)2.1.3将Mg2S2附加到slab上add_adsorbate(slab,Mg2S2,height=4.0,position=(2.383,5.455))2.2初始结构优化[3][4]显然，晶格常数cell和原子位置postion都会对能量造成影响，晶格常数实际上固定了位于格点的原子间距。可以全部采用实验值或者部分采用实验值进行优化。对于吸附体系显然没有实验值，所以需要一起优化。使用ucf=UnitCellFilter(slab)qn=QuasiNewton(ucf)或者ecf=ExpCellFilter(atoms)qn=QuasiNewton(ecf)但是，一起优化可能耗时长，可以用set_constraints的FixAtoms命令固定某些原子。准牛顿算法进行几何优化。用ase.constraints.StrainFilter固定某些方向。前期的粗略计算可以先固定碳原子和晶格常数，后期再考虑影响大不大。print(slab.constraint)c=FixAtoms(mask=[atom.symbol=='C'foratominatoms])slab.set_constraint(c)2.3超参数设置[5]初始优化尽量快速，Ecut采用默认340eV，泛函采用PBE，优化算法用QuasiNewton==BFGSLineSearch。默认的k点为gamma点，即kpts=(1,1,1)，多取几个点计算时间就会多几倍（可以并行），总能量是多个k点能量的平均，如果k点取得越密，该平均值越能反应布里渊区的电子能量分布。由于z方向不具备周期性，所以z方向的k点设置为0。不同k值反映了不同方向传播的电子，由于感受的周期不同，所以具有不同的能量。后期可以进行修改超参数Ecut、Kpts、Ediff等或者扩胞。由于我们关心的是相对能量而非决定能量，所以不用太关心超参数优化到最好的值。3最终Image设置按照上述步骤建立final_image(如何选择初始的位置？)4优化算法建立中间图像configs=[initial.copy()foriinrange(8)]+[final]#8ofinitialand1offinalimages添加计算器forconfiginconfigs:config.calc=GPAW()#configthecalculatorofeveryimage,onlytheinternalimages(nottheendpoints)needhavecalculatorsattached.线性插值并用CI-NEB算法band=NEB(configs)band.interpolate()#linearinterpolationrelax=QuasiNewton(band,trajectory='XXX.traj')绘制图像importmatplotlib.pyplotasplte0=initial.get_potential_energy()E=[config.get_potential_energy()-e0forconfiginconfigs]plt.plot(E)5并行计算、io、时间估计、可视化结构优化时间=单次SCF的时间×N，N取决于算法的高效性。因为下一次SCF取决于上一次SCF的结果，所以无法有效进行并行计算。CI-NEB时间=结构优化时间xImage数量。每个Image可以各自进行结构优化，所以可以并行。!mpiexec-np4python3xxx.pywrite('xxx.traj',slab)write('xxx.cif',slab)!ase-guixxx.traj/cif将cif文件拖入http://www.openmx-square.org/viewer/6问题具体的能量值代表什么？如何考虑费米狄拉克分布width=0.1000eV？实空间间隔如何取的？具体的能带数量如何通过Ecut求出？如何在Python中利用GPAW进行简单的DFT操作HowtouseGPAWtoperformbasicDFTtasksinPython_哔哩哔哩_bilibili↩︎GPAW:DFTandbeyondwithintheprojector-augmentedwavemethod_哔哩哔哩_bilibili↩︎原子位置优化↩︎晶格常数优化。↩︎https://wiki.fysik.dtu.dk/gpaw/tutorialsexercises/structureoptimization/stress/stress.html↩︎","link":"https://qoclub.site/post/barrier-pipeline/"},{"title":"在WSL做DFT计算——ASE+GPAW配置指南","content":"1GPAW配置gpaw是使用python写的做第一性原理计算的包。GPAW基于原子模拟环境(ASE)和投影增强波(PAW)方法。通过实空间均匀网格、多重网格方法和有限差分逼近(FD)、原子中心基函数(LCAO)和平面波(PW)来实现对波函数的描述。GPAW计算通过以Python编程语言编写的脚本进行控制。GPAW依赖于处理分子动力学、分析、可视化、几何优化等的原子模拟环境(ASE)。ASE/GPAW可以集成并且可以灵活地与Python一起使用。ASE是一款功能非常强大的软件，能够使用GPAW和PW、FD、LCAO、Exact-exchange模式提供了极大的灵活性。并且加上使用ASE+ASAP+OpenKIM原子间势作为几何预优化，它与ATK程序所需的功能非常相似。gpaw-tools提供可视化功能。1.1Linux子系统安装在桌面搜索框搜索windows功能，启用适合于Linux的windows子系统。在桌面搜索框搜索store，搜索ubuntu，点击下载安装。详细教程可参考https://cloud.tencent.com/developer/article/16173421.2Vscode连接到Linux1.2.1插件安装在Vscode的插件商店搜索RemoteDevelopment，一次性安装3个远程控制插件。1.2.2远程连接在Vscode按ctrl+shift+P进入面板，输入Remote-wsl，选择NewWSLWindow打开文件夹输入文件夹名称为/，这样可以管理Linux子系统的所有文件完成后如图所示1.3配置文件1.3.1打开终端点击新建终端配置网络，依次在终端输入原因是自带的DNS不行，所以把解析器resolv给修改成谷歌的DNS。sudorm/etc/resolv.confsudobash-c'echo&quot;nameserver8.8.8.8&quot;&gt;/etc/resolv.conf'sudobash-c'echo&quot;[network]&quot;&gt;/etc/wsl.conf'sudobash-c'echo&quot;generateResolvConf=false&quot;&gt;&gt;/etc/wsl.conf'sudochattr+i/etc/resolv.conf1.4修改sources.list原因是执行apt的时候用自带的总是下载不了，所以需要改用清华源。复制清华源的链接#默认注释了源码镜像以提高aptupdate速度，如有需要可自行取消注释debhttps://mirrors.tuna.tsinghua.edu.cn/ubuntu/focalmainrestricteduniversemultiverse#deb-srchttps://mirrors.tuna.tsinghua.edu.cn/ubuntu/focalmainrestricteduniversemultiversedebhttps://mirrors.tuna.tsinghua.edu.cn/ubuntu/focal-updatesmainrestricteduniversemultiverse#deb-srchttps://mirrors.tuna.tsinghua.edu.cn/ubuntu/focal-updatesmainrestricteduniversemultiversedebhttps://mirrors.tuna.tsinghua.edu.cn/ubuntu/focal-backportsmainrestricteduniversemultiverse#deb-srchttps://mirrors.tuna.tsinghua.edu.cn/ubuntu/focal-backportsmainrestricteduniversemultiversedebhttps://mirrors.tuna.tsinghua.edu.cn/ubuntu/focal-securitymainrestricteduniversemultiverse#deb-srchttps://mirrors.tuna.tsinghua.edu.cn/ubuntu/focal-securitymainrestricteduniversemultiverse用vim编辑sudovim/etc/apt/sources.list在Vim中，按gg将光标定位到行首，然后按dG删除全部。然后按a进入编辑模式，点击鼠标右键复制，然后按esc退出。按:wq保存并退出vim。在终端执行sudoaptupdate1.5gpaw软件包安装依次执行sudoaptinstallpython3-pipsudoaptinstalllibxc-devsudoaptinstallgfortransudoaptinstalllibopenblas-devsudoaptinstallpython3-tkpipinstallgpawase设置PATH，在终端执行exportPATH=/home/用户名/.local/bin:$PATH把其中的用户名改为安装linux子系统时设置的用户名。如exportPATH=/home/linqy/.local/bin:$PATH在终端执行以测试gpaw--version推荐参考：https://www.lrgresearch.org/gpaw-tools/installation/","link":"https://qoclub.site/post/dft/"},{"title":"常用单位转换","content":"EnergyUnitsHartree(2Ry)eVcm-1kcal/molkJ/molKelvinJHzHartree127.2107219474.63627.5032625.5315777.43.60x10^-196.57966x10^+15eV0.036750218065.7323.060996.486911604.91.60210x10^-192.41804x10^+14cm^-14.55633x10^-61.23981x10^-410.002859110.01196271.428791.98630x10^-232.99793x10^+10kcal/mol0.001593620.0433634349.75714.18400503.2286.95x10^-211.04854x10^+13kJ/mol0.000380880.0103641083.5930.2390011120.2741.66x10^-212.50607x10^+12Kelvin0.000003166780.00008617050.6950280.001987170.0083143511.38054x10^-232.08364x10^+10J2.294x10^+176.24181x10^+185.03445x10^+221.44x10^+206.02x10^+207.24354x10^+2211.50930x10^+33Hz1.51983x10^-164.13558x10^-153.33565x10^-119.53702x10^-145.7×10^^-144.79930x10^-116.62561x10^-341PressureUnitsbarmmHgN/m2(pascal)torrbar1750.061561310^5750.06167382mmHg0.00133322391133.322391.00000015pascal10^-50.00750061561310.0075006167382torr0.00133322370.99999984999133.322371普朗克常数6.62607015×10−34m2kg/s6.62607015×10^{-34}m^2kg/s6.62607015×10−34m2kg/s玻尔兹曼常数1.380649×10−23m2kg/s2K11.380649×10^{-23}m^2kg/s^{2}K^{1}1.380649×10−23m2kg/s2K1阿伏伽德罗常数6.02214076×1023/mol6.02214076×10^{23}/mol6.02214076×1023/mol1cal=4.184J1cal=4.184J1cal=4.184J氢原子基态能量−13.6eV=−1Ry-13.6eV=-1Ry−13.6eV=−1Ry对于光子，E=pc=hk~cE=pc=h\\widetilde{k}cE=pc=hkc，其中k~\\widetilde{k}k是波数，单位cm−1cm^{-1}cm−1对于光子，E=hνE=h\\nuE=hν对于声子，E=kTE=kTE=kTfromhttp://home.ustc.edu.cn/~lipai/tools/unit_convert.html","link":"https://qoclub.site/post/unit/"},{"title":"Raman Pipeline","content":"1原理拉曼光谱2018年你一定不能错过的史上最全Raman干货总结|清新电源公众号：拉曼与XPS简介、拉曼光谱拉曼光谱指南|Bruker2实验前2.1查看样品拉曼光谱数据库DatabaseofRamanspectroscopy,X-raydiffractionandchemistryofmineralsCrystallographyOpenDatabase:SearchHandbookofRamanSpectraforgeology3实验中参考拉曼测试ByXiao拉曼操作指南Labspec5operationmanualLabspec软件使用拉曼软件手册精简LabSpec5manual拉曼软件手册详细LabSpec5_Users_Manual光栅选择闪耀波长：选择闪耀波长需要考虑入射激光波长和观测中心波数。比如514nm的Ar离子激光观测中心在1300cm-1的光需要选择闪耀波长大概在550nm，而用632.8nm氦氖激光则是688nm。刻线数：选择观测大波数范围则用小刻线数，小波数范围则用大刻线数。如果既要大范围又要分辨率，可以通过切换闪耀波长。#Q：大量程时到底是更换了刻线数（以牺牲分辨率代价增大量程）还是更换了闪耀波长？？lamb=632delaK=2300print('lambRaman='+str(lamb/(1-lamb*delaK*10**-7))+'nm')print('deltaLamb='+str(lamb/(1-lamb*delaK*10**-7)-lamb)+'nm')3.1制样参考样品的准备粉末样品：取少量样品至干净的玻璃片中心，用另一块玻璃片轻压样品成为均匀的平面。揭开上层玻璃片，进行测样。块状样品:将样品放置在干净的玻璃片上。液体样品：自备石英比色皿（至少有两面光滑），待测液体装入比色皿中，如果液体中挥发性成分请选择带盖比色皿或将开口处封紧。3.2仪器使用3.2.1开激光如果是514nm激光需要开风机更换激光时需要找杨老师切换光栅，然后重新校准。所谓校准就是在软件上将CCD的坐标跟波长对应上。3.2.2Si片校准白光对焦：放上样品，关闭激光，打开video，打开白光粗调焦，打开软件的摄像头进行细调焦。采谱：关闭白光，打开raman，开启激光，确认软件中laser，调节测试范围（测试前需确定），将Spectrummeter设为500。积分时间和平均次数，点击SpectrumRTD采谱。校准：点击寻峰，如果偏离520.5则调节zero，重新寻峰。3.2.3样品测试更换样品对焦采谱：设置积分时间和平均次数为10，点击小猪采谱。保存数据：保存.ngs和.txt格式的数据3.2.4测试结束测试完成后，拷数据，关闭软件，关屏幕(电脑不关机)，关激光4实验结束4.1寻峰分峰寻峰开放平台分峰：使用Labspec5进行拉曼光谱分析（二）扣除基底与峰位拟合_哔哩哔哩_bilibili4.2Origin绘图OriginY偏移堆积图","link":"https://qoclub.site/post/raman-pipeline/"},{"title":"XRD Pipeline","content":"先大致了解材料XRD数据：XRD数据处理制样并拍摄XRD，当场用Jade拟合并导出TXT：XRD实验、XRD数据处理用Origin作图：XRD数据处理","link":"https://qoclub.site/post/xrd-pipeline/"},{"title":"XRD Experiment","content":"参考：XRD测试的基本操作-知乎1准备1.1扫描角度在文献中找到合适的XRD扫描角度范围1.2制样准备：样品、药勺、纸巾、酒精压片粉末：在样品台上贴双面胶，用药勺铺上粉末后压平，再用玻璃片抹平。薄膜：样品放在铁板中央，用橡皮泥粘住即可。2开机3打开软件打开软件，设置存储位置选择扫描范围和扫速执行4测量中5结束测量测量结束标志开门，重新制样重新修改条件，执行6保存打开软件点击选择新旧盘烧写：完成后弹出即可7机器关闭关闭X射线即可，电压会自动关闭。","link":"https://qoclub.site/post/xrd-experiment/"},{"title":"XRD Theory","content":"1参考S1E2XRD原理-衍射基本知识布拉格方程-知乎2原理2.1散射和衍射的区别两者都是从宏观上，从探测器的角度观察的现象。共同点：本质上都是光子受到原子核或者电子散射。局部有序结构散射波相干叠加产生的总散射波。区别：散射指不同的局部有序结构产生散射波的非相干叠加。衍射指一大片有序结构产生的散射波相干叠加。2.2布拉格条件与劳尔条件的差别布拉格条件：从实空间、反射的角度，干涉是因为出射波的叠加，通过改变角度达到干涉条件。劳尔条件：从频域空间、透射的角度，干涉是因为入射波矢量和散射矢量Q的叠加。通过改变波长达到干涉条件。如图所示，由于Q对应的晶面产生的动量转移Q使得光发生相干衍射。2.3单晶衍射、多晶衍射、XRD的区别单晶衍射为转动晶体，从而使不同晶面满足布拉格条件产生衍射点。多晶衍射因为不同晶粒随机取向所以有衍射环。XRD只在一个方向探测所以只有平行于样品台的那些面才能被探测。","link":"https://qoclub.site/post/xrd-theory/"},{"title":"Jade 使用教程——XRD定性分析","content":"简单介绍测量XRD前后简单的数据操作1XRD实验前利用Jade找PDF判断XRD扫描范围按制定元素检索PDF卡片显示目标物体谱图从图中看到大概是10-50°C以内，平时通常是10-90°C，扫速是4°C/min，每幅图20min。2Jade寻峰三步走寻峰法，参考MDIJade使用手册大海捞针：不选择UseChemistryFilter指定元素：勾选UseChemistryFilter，并选择可能的元素。指定峰位：左键点击PeakPaintcursor并在某个峰下面画出一条横线，然后再右键S/M进行检索。可以得到谱图如下所示。导出数据为TXT格式点击Edit-Save-PrimaryPattern*.txt保存样品的数据为TXT格式。对于PDF卡片的TXT数据按下图操作。3originY偏移堆积图数据导入：导入所有txt文件，将所有数据放到一个表中，设置X轴绘制Y偏移堆积图：解除图像关联：双击图片，设置堆叠为单独设置图像偏移3.1样品曲线设置设置组为独立Y轴偏移：2203.2PDF卡片曲线设置首先设置为无线条设置垂直线：把其中一个的垂直线设置下垂到Y=自定义附加线，Y轴偏移110。另外一个垂直线设置下垂到Y=轴的起始，Y轴偏移为0。3.3坐标轴设置双击坐标轴，设置X轴范围为XRD扫描范围，Y轴从0开始。在网格中设置Y轴辅助线偏移110。设置另外的辅助线：3.4导出右键导出图形4Origin堆积图按同样操作导入数据，选择堆积图。修改刻度：双击坐标轴修改XY轴的刻度、刻度线标签、轴线和刻度线显示调整比例大小：先取消关联从Layer3开始逐个调节图像高度和上使堆积图清晰。","link":"https://qoclub.site/post/xrd-datpro/"},{"title":"GitHub建站指南","content":"你是否曾经想过拥有一个属于自己的网站？这篇文章将帮助你实现。关键是不用钱。用GitHub建站可以分为三步1.注册GitHub账户，建一个仓库2.选择你喜欢的主题3.修改主页以链接到其他文件其实网站有众多教程，但我这篇是十分傻瓜式的：文字不多，尽量用动图展示。详情点击链接","link":"https://qoclub.site/post/github-jian-zhan-zhi-nan/"}]}